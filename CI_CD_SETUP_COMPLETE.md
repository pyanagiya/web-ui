# ğŸš€ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­å®šå®Œäº†ï¼

## âœ… å®Ÿè£…ã•ã‚ŒãŸæ©Ÿèƒ½

### ğŸ”„ CI (Continuous Integration)
- **ãƒˆãƒªã‚¬ãƒ¼**: ã™ã¹ã¦ã®ãƒ–ãƒ©ãƒ³ãƒï¼ˆpushã€PRï¼‰
- **ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆ**: Node.js 18.x & 20.x
- **å“è³ªãƒã‚§ãƒƒã‚¯**:
  - ESLinté™çš„è§£æ
  - TypeScriptå‹ãƒã‚§ãƒƒã‚¯
  - Prettierãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ» (npm audit)
  - ä¾å­˜é–¢ä¿‚æ›´æ–°ãƒã‚§ãƒƒã‚¯
  - ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

### ğŸš€ CD (Continuous Deployment)  
- **ãƒˆãƒªã‚¬ãƒ¼**: mainãƒ–ãƒ©ãƒ³ãƒãƒ—ãƒƒã‚·ãƒ¥ã®ã¿
- **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼**:
  - ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
  - Azure App Serviceè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
  - ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
  - ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸé€šçŸ¥

## ğŸ“‹ æ¬¡ã«å¿…è¦ãªã‚¹ãƒ†ãƒƒãƒ—

### 1. GitHub Secretsã®è¨­å®š
```bash
# GitHubãƒªãƒã‚¸ãƒˆãƒªã® Settings > Secrets and variables > Actions ã§è¨­å®š:
AZURE_CLIENT_ID = 4a592fb1-77b4-4fb0-aa80-630c8ca9801b
AZURE_TENANT_ID = 75a0aac9-9542-45cd-8a40-b3a815e2e37a
AZURE_SUBSCRIPTION_ID = cfa5e3dc-3e95-4579-8538-301d0feadd21
```

### 2. OIDCï¼ˆFederated Identityï¼‰ã®åˆ©ç‚¹
- ğŸ”’ **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–**: é•·æœŸé–“æœ‰åŠ¹ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆä¸è¦
- ğŸ”„ **è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒˆãƒ¼ã‚¯ãƒ³ã®è‡ªå‹•æœŸé™åˆ‡ã‚Œ
- ğŸ¯ **ç´°ã‹ã„åˆ¶å¾¡**: ç‰¹å®šãƒ–ãƒ©ãƒ³ãƒãƒ»PRé™å®šã‚¢ã‚¯ã‚»ã‚¹

### 3. App Serviceè¨­å®šç¢ºèª
- **App Serviceå**: `teios-ai-webui-iymm4la6qt4mo`
- **ãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—**: `teios-ai-rg`
- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **: Node.js 20 LTS
- **é–‹å§‹ã‚³ãƒãƒ³ãƒ‰**: `node server.js`

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
```bash
npm run dev          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run ci           # å…¨CIãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
npm run format       # ã‚³ãƒ¼ãƒ‰æ•´å½¢
npm run lint         # ãƒªãƒ³ãƒˆå®Ÿè¡Œ
npm run type-check   # å‹ãƒã‚§ãƒƒã‚¯
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼
1. `develop`ãƒ–ãƒ©ãƒ³ãƒã§é–‹ç™º â†’ CIå®Ÿè¡Œã®ã¿
2. PRã§mainã«ãƒãƒ¼ã‚¸ â†’ CI + CDå®Ÿè¡Œ
3. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ â†’ https://teios-ai-webui-iymm4la6qt4mo.azurewebsites.net

## ğŸ” ç›£è¦–ãƒ»ç¢ºèªæ–¹æ³•

### GitHub Actions
- ãƒªãƒã‚¸ãƒˆãƒªã®ã€ŒActionsã€ã‚¿ãƒ–ã§å®Ÿè¡ŒçŠ¶æ³ç¢ºèª
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å: "CI/CD Pipeline"

### Azure App Service
```bash
# ãƒ­ã‚°ç¢ºèª
az webapp log tail --name teios-ai-webui-iymm4la6qt4mo --resource-group teios-ai-rg

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
curl https://teios-ai-webui-iymm4la6qt4mo.azurewebsites.net/health
```

## ğŸ‰ æº–å‚™å®Œäº†ï¼
GitHub Secretsã‚’è¨­å®šã™ã‚Œã°ã€mainãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚
